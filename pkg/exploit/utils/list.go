package utils

import (
	"context"
	"fmt"
	"k8sRBACdetect/pkg/request"

	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

func Listdeployments(token string, namespace string) {
	clientset := request.GetClientSet(token)
	deploymentsList, _ := clientset.AppsV1().Deployments(namespace).List(context.Background(), metav1.ListOptions{})
	for _, deployment := range deploymentsList.Items {
		fmt.Printf("- %s\n", deployment.Name)
	}

}

func ListSecrets(token string, namespace string) {
	clientset := request.GetClientSet(token)
	secretsList, _ := clientset.CoreV1().Secrets(namespace).List(context.Background(), metav1.ListOptions{})
	for _, secret := range secretsList.Items {
		fmt.Printf("- %s\n", secret.Name)
	}
}
